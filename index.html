import pygame
import sys

pygame.init()

# ---------------- CONFIGURAÇÕES ---------------- #
LARGURA = 800
ALTURA = 600
TELA = pygame.display.set_mode((LARGURA, ALTURA))
pygame.display.set_caption("Jogo do Franguinho")

FPS = 60
clock = pygame.time.Clock()

# ---------------- CORES ---------------- #
BRANCO = (255, 255, 255)
PRETO = (0, 0, 0)
LARANJA = (255, 140, 0)
AMARELO = (255, 220, 100)
VERMELHO = (220, 40, 40)
CINZA = (180, 180, 180)

# ---------------- PERSONAGEM (FRANGUINHO) ---------------- #
player = pygame.Rect(380, 500, 40, 40)
vel_x = 5
vel_y = 0
gravidade = 1
no_chao = True

# ---------------- BOTÕES ---------------- #
btn_inicio = pygame.Rect(300, 250, 200, 80)

btn_esquerda = pygame.Rect(50, 520, 80, 50)
btn_direita = pygame.Rect(150, 520, 80, 50)
btn_pular = pygame.Rect(650, 520, 80, 50)

tela_inicial = True

# ---------------- FUNÇÃO PRA DESENHAR O FRANGUINHO ---------------- #
def desenhar_frango(surface, x, y):
    # Corpo
    pygame.draw.circle(surface, AMARELO, (x + 20, y + 20), 20)

    # Olho
    pygame.draw.circle(surface, PRETO, (x + 28, y + 15), 4)

    # Bico
    pygame.draw.polygon(surface, LARANJA, [
        (x + 35, y + 20),
        (x + 48, y + 24),
        (x + 35, y + 28)
    ])

    # Crista
    pygame.draw.circle(surface, VERMELHO, (x + 10, y + 5), 6)
    pygame.draw.circle(surface, VERMELHO, (x + 16, y + 2), 5)

# ---------------- LOOP PRINCIPAL ---------------- #
while True:
    clock.tick(FPS)
    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            pygame.quit()
            sys.exit()

        # --- CLIQUES ---
        if event.type == pygame.MOUSEBUTTONDOWN:
            mx, my = pygame.mouse.get_pos()

            # Iniciar jogo
            if tela_inicial and btn_inicio.collidepoint(mx, my):
                tela_inicial = False

            if not tela_inicial:
                # Botão esquerda
                if btn_esquerda.collidepoint(mx, my):
                    player.x -= vel_x

                # Botão direita
                if btn_direita.collidepoint(mx, my):
                    player.x += vel_x

                # Botão pular
                if btn_pular.collidepoint(mx, my) and no_chao:
                    vel_y = -15
                    no_chao = False

    # ---------------- TELA INICIAL ---------------- #
    if tela_inicial:
        TELA.fill(BRANCO)
        pygame.draw.rect(TELA, AMARELO, btn_inicio)
        font = pygame.font.SysFont(None, 40)
        txt = font.render("INICIAR", True, PRETO)
        TELA.blit(txt, (btn_inicio.x + 50, btn_inicio.y + 25))

        pygame.display.update()
        continue

    # ---------------- FÍSICA DO JOGADOR ---------------- #
    vel_y += gravidade
    player.y += vel_y

    if player.y >= 500:
        player.y = 500
        vel_y = 0
        no_chao = True

    # ---------------- DESENHO DO JOGO ---------------- #
    TELA.fill(BRANCO)

    # Franguinho
    desenhar_frango(TELA, player.x, player.y)

    # Botões
    pygame.draw.rect(TELA, CINZA, btn_esquerda)
    pygame.draw.rect(TELA, CINZA, btn_direita)
    pygame.draw.rect(TELA, CINZA, btn_pular)

    font = pygame.font.SysFont(None, 30)
    TELA.blit(font.render("←", True, PRETO), (btn_esquerda.x + 30, btn_esquerda.y + 10))
    TELA.blit(font.render("→", True, PRETO), (btn_direita.x + 30, btn_direita.y + 10))
    TELA.blit(font.render("PULAR", True, PRETO), (btn_pular.x + 10, btn_pular.y + 10))

    pygame.display.update()
